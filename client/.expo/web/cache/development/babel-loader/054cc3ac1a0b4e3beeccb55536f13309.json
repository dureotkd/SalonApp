{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useRef, useEffect, useState } from \"react\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Easing from \"react-native-web/dist/exports/Easing\";\nimport Svg, { G, Path, Rect } from \"react-native-svg\";\nvar defaultColor = \"#fdd835\";\nvar defaultAnimationConfig = {\n  easing: Easing.elastic(2),\n  duration: 300,\n  scale: 1.2,\n  delay: 300\n};\n\nvar StarRating = function StarRating(_ref) {\n  var rating = _ref.rating,\n      _ref$maxStars = _ref.maxStars,\n      maxStars = _ref$maxStars === void 0 ? 5 : _ref$maxStars,\n      _ref$minRating = _ref.minRating,\n      minRating = _ref$minRating === void 0 ? 0.5 : _ref$minRating,\n      _ref$starSize = _ref.starSize,\n      starSize = _ref$starSize === void 0 ? 32 : _ref$starSize,\n      onChange = _ref.onChange,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? defaultColor : _ref$color,\n      _ref$emptyColor = _ref.emptyColor,\n      emptyColor = _ref$emptyColor === void 0 ? color : _ref$emptyColor,\n      _ref$enableHalfStar = _ref.enableHalfStar,\n      enableHalfStar = _ref$enableHalfStar === void 0 ? true : _ref$enableHalfStar,\n      _ref$enableSwiping = _ref.enableSwiping,\n      enableSwiping = _ref$enableSwiping === void 0 ? true : _ref$enableSwiping,\n      _ref$animationConfig = _ref.animationConfig,\n      animationConfig = _ref$animationConfig === void 0 ? defaultAnimationConfig : _ref$animationConfig,\n      style = _ref.style,\n      starStyle = _ref.starStyle,\n      testID = _ref.testID;\n  var width = useRef();\n  var ref = useRef(null);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isInteracting = _useState2[0],\n      setInteracting = _useState2[1];\n\n  var handleInteraction = function handleInteraction(x) {\n    if (width.current) {\n      var newRating = Math.max(minRating, Math.ceil(x / width.current * maxStars * 2) / 2);\n      onChange(enableHalfStar ? newRating : Math.ceil(newRating));\n    }\n  };\n\n  var panResponder = useRef(PanResponder.create({\n    onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n      return true;\n    },\n    onStartShouldSetPanResponderCapture: function onStartShouldSetPanResponderCapture() {\n      return true;\n    },\n    onMoveShouldSetPanResponder: function onMoveShouldSetPanResponder() {\n      return true;\n    },\n    onMoveShouldSetPanResponderCapture: function onMoveShouldSetPanResponderCapture() {\n      return true;\n    },\n    onPanResponderMove: function onPanResponderMove(e) {\n      if (enableSwiping) {\n        handleInteraction(e.nativeEvent.locationX);\n      }\n    },\n    onPanResponderStart: function onPanResponderStart(e) {\n      handleInteraction(e.nativeEvent.locationX);\n      setInteracting(true);\n    },\n    onPanResponderEnd: function onPanResponderEnd() {\n      setTimeout(function () {\n        setInteracting(false);\n      }, animationConfig.delay || defaultAnimationConfig.delay);\n    }\n  }));\n  return React.createElement(View, _extends({\n    ref: ref,\n    style: [styles.starRating, style]\n  }, panResponder.current.panHandlers, {\n    onLayout: function onLayout() {\n      if (ref.current) {\n        ref.current.measure(function (_x, _y, w, _h) {\n          return width.current = w;\n        });\n      }\n    },\n    testID: testID\n  }), _toConsumableArray(Array(maxStars)).map(function (_, i) {\n    var icon = function () {\n      if (rating - i >= 1) {\n        return React.createElement(StarFull, {\n          size: starSize,\n          color: color\n        });\n      }\n\n      return rating - i >= 0.5 ? React.createElement(StarHalf, {\n        size: starSize,\n        color: color\n      }) : React.createElement(StarBorder, {\n        size: starSize,\n        color: emptyColor\n      });\n    }();\n\n    return React.createElement(AnimatedIcon, {\n      key: i,\n      active: isInteracting && rating - i >= 0.5,\n      animationConfig: animationConfig,\n      style: starStyle\n    }, icon);\n  }));\n};\n\nvar AnimatedIcon = function AnimatedIcon(_ref2) {\n  var active = _ref2.active,\n      animationConfig = _ref2.animationConfig,\n      children = _ref2.children,\n      style = _ref2.style;\n  var _animationConfig$scal = animationConfig.scale,\n      scale = _animationConfig$scal === void 0 ? defaultAnimationConfig.scale : _animationConfig$scal,\n      _animationConfig$easi = animationConfig.easing,\n      easing = _animationConfig$easi === void 0 ? defaultAnimationConfig.easing : _animationConfig$easi,\n      _animationConfig$dura = animationConfig.duration,\n      duration = _animationConfig$dura === void 0 ? defaultAnimationConfig.duration : _animationConfig$dura;\n  var animatedSize = useRef(new Animated.Value(active ? scale : 1));\n  useEffect(function () {\n    var animation = Animated.timing(animatedSize.current, {\n      toValue: active ? scale : 1,\n      useNativeDriver: true,\n      easing: easing,\n      duration: duration\n    });\n    animation.start();\n    return animation.stop;\n  }, [active, scale, easing, duration]);\n  return React.createElement(Animated.View, {\n    pointerEvents: \"none\",\n    style: [styles.star, style, {\n      transform: [{\n        scale: animatedSize.current\n      }]\n    }]\n  }, children);\n};\n\nvar StarBorder = function StarBorder(_ref3) {\n  var size = _ref3.size,\n      color = _ref3.color;\n  return React.createElement(Svg, {\n    height: size,\n    viewBox: \"0 0 24 24\",\n    width: size\n  }, React.createElement(Path, {\n    fill: color,\n    d: \"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"\n  }));\n};\n\nvar StarFull = function StarFull(_ref4) {\n  var size = _ref4.size,\n      color = _ref4.color;\n  return React.createElement(Svg, {\n    height: size,\n    viewBox: \"0 0 24 24\",\n    width: size\n  }, React.createElement(Path, {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), React.createElement(Path, {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  }), React.createElement(Path, {\n    fill: color,\n    d: \"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n  }));\n};\n\nvar StarHalf = function StarHalf(_ref5) {\n  var size = _ref5.size,\n      color = _ref5.color;\n  return React.createElement(Svg, {\n    height: size,\n    viewBox: \"0 0 24 24\",\n    width: size\n  }, React.createElement(G, null, React.createElement(Rect, {\n    fill: \"none\",\n    height: \"24\",\n    width: \"24\",\n    x: \"0\"\n  })), React.createElement(G, null, React.createElement(G, null, React.createElement(G, null, React.createElement(Path, {\n    fill: color,\n    d: \"M22,9.24l-7.19-0.62L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27L18.18,21l-1.63-7.03L22,9.24z M12,15.4V6.1 l1.71,4.04l4.38,0.38l-3.32,2.88l1,4.28L12,15.4z\"\n  })))));\n};\n\nvar styles = StyleSheet.create({\n  starRating: {\n    flexDirection: \"row\",\n    alignSelf: \"flex-start\"\n  },\n  star: {\n    marginHorizontal: 5\n  }\n});\nexport default StarRating;","map":{"version":3,"sources":["StarRating.tsx"],"names":["defaultColor","defaultAnimationConfig","easing","Easing","duration","scale","delay","StarRating","maxStars","minRating","starSize","color","emptyColor","enableHalfStar","enableSwiping","animationConfig","testID","width","useRef","ref","useState","handleInteraction","x","newRating","Math","onChange","panResponder","onStartShouldSetPanResponder","onStartShouldSetPanResponderCapture","onMoveShouldSetPanResponder","onMoveShouldSetPanResponderCapture","onPanResponderMove","e","onPanResponderStart","setInteracting","onPanResponderEnd","setTimeout","styles","Array","icon","rating","isInteracting","starStyle","AnimatedIcon","style","animatedSize","Animated","active","useEffect","animation","toValue","useNativeDriver","transform","current","StarBorder","size","StarFull","StarHalf","starRating","flexDirection","alignSelf","star","marginHorizontal"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport {\n    PanResponder,\n    StyleSheet,\n    View,\n    StyleProp,\n    ViewStyle,\n    Animated,\n    Easing,\n} from \"react-native\";\nimport Svg, { G, Path, Rect } from \"react-native-svg\";\n\ntype AnimationConfig = {\n    easing?: (value: number) => number;\n    duration?: number;\n    delay?: number;\n    scale?: number;\n};\n\ntype StarRatingProps = {\n    rating: number;\n    onChange: (rating: number) => void;\n    minRating?: number;\n    color?: string;\n    emptyColor?: string;\n    maxStars?: number;\n    starSize?: number;\n    enableHalfStar?: boolean;\n    enableSwiping?: boolean;\n    style?: StyleProp<ViewStyle>;\n    starStyle?: StyleProp<ViewStyle>;\n    animationConfig?: AnimationConfig;\n    testID?: string;\n};\n\nconst defaultColor = \"#fdd835\";\nconst defaultAnimationConfig: Required<AnimationConfig> = {\n    easing: Easing.elastic(2),\n    duration: 300,\n    scale: 1.2,\n    delay: 300,\n};\n\nconst StarRating: React.FC<StarRatingProps> = ({\n    rating,\n    maxStars = 5,\n    minRating = 0.5,\n    starSize = 32,\n    onChange,\n    color = defaultColor,\n    emptyColor = color,\n    enableHalfStar = true,\n    enableSwiping = true,\n    animationConfig = defaultAnimationConfig,\n    style,\n    starStyle,\n    testID,\n}) => {\n    const width = useRef<number>();\n    const ref = useRef<View>(null);\n    const [isInteracting, setInteracting] = useState(false);\n\n    const handleInteraction = (x: number) => {\n        if (width.current) {\n            const newRating = Math.max(\n                minRating,\n                Math.ceil((x / width.current) * maxStars * 2) / 2\n            );\n            onChange(enableHalfStar ? newRating : Math.ceil(newRating));\n        }\n    };\n\n    const panResponder = useRef(\n        PanResponder.create({\n            onStartShouldSetPanResponder: () => true,\n            onStartShouldSetPanResponderCapture: () => true,\n            onMoveShouldSetPanResponder: () => true,\n            onMoveShouldSetPanResponderCapture: () => true,\n            onPanResponderMove: e => {\n                if (enableSwiping) {\n                    handleInteraction(e.nativeEvent.locationX);\n                }\n            },\n            onPanResponderStart: e => {\n                handleInteraction(e.nativeEvent.locationX);\n                setInteracting(true);\n            },\n            onPanResponderEnd: () => {\n                setTimeout(() => {\n                    setInteracting(false);\n                }, animationConfig.delay || defaultAnimationConfig.delay);\n            },\n        })\n    );\n\n    return (\n        <View\n            ref={ref}\n            style={[styles.starRating, style]}\n            {...panResponder.current.panHandlers}\n            onLayout={() => {\n                if (ref.current) {\n                    ref.current.measure((_x, _y, w, _h) => (width.current = w));\n                }\n            }}\n            testID={testID}>\n            {[...Array(maxStars)].map((_, i) => {\n                const icon = (() => {\n                    if (rating - i >= 1) {\n                        return <StarFull size={starSize} color={color} />;\n                    }\n\n                    return rating - i >= 0.5 ? (\n                        <StarHalf size={starSize} color={color} />\n                    ) : (\n                        <StarBorder size={starSize} color={emptyColor} />\n                    );\n                })();\n                return (\n                    <AnimatedIcon\n                        key={i}\n                        active={isInteracting && rating - i >= 0.5}\n                        animationConfig={animationConfig}\n                        style={starStyle}>\n                        {icon}\n                    </AnimatedIcon>\n                );\n            })}\n        </View>\n    );\n};\n\ntype AnimatedIconProps = {\n    active: boolean;\n    children: React.ReactElement;\n    animationConfig: AnimationConfig;\n    style?: StyleProp<ViewStyle>;\n};\n\nconst AnimatedIcon: React.FC<AnimatedIconProps> = ({\n    active,\n    animationConfig,\n    children,\n    style,\n}) => {\n    const {\n        scale = defaultAnimationConfig.scale,\n        easing = defaultAnimationConfig.easing,\n        duration = defaultAnimationConfig.duration,\n    } = animationConfig;\n\n    const animatedSize = useRef(new Animated.Value(active ? scale : 1));\n\n    useEffect(() => {\n        const animation = Animated.timing(animatedSize.current, {\n            toValue: active ? scale : 1,\n            useNativeDriver: true,\n            easing,\n            duration,\n        });\n\n        animation.start();\n        return animation.stop;\n    }, [active, scale, easing, duration]);\n\n    return (\n        <Animated.View\n            pointerEvents=\"none\"\n            style={[\n                styles.star,\n                style,\n                {\n                    transform: [\n                        {\n                            scale: animatedSize.current,\n                        },\n                    ],\n                },\n            ]}>\n            {children}\n        </Animated.View>\n    );\n};\n\ntype IconProps = {\n    size: number;\n    color: string;\n};\n\nconst StarBorder: React.FC<IconProps> = ({ size, color }) => (\n    <Svg height={size} viewBox=\"0 0 24 24\" width={size}>\n        <Path\n            fill={color}\n            d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"\n        />\n    </Svg>\n);\n\nconst StarFull: React.FC<IconProps> = ({ size, color }) => (\n    <Svg height={size} viewBox=\"0 0 24 24\" width={size}>\n        <Path d=\"M0 0h24v24H0z\" fill=\"none\" />\n        <Path d=\"M0 0h24v24H0z\" fill=\"none\" />\n        <Path\n            fill={color}\n            d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"\n        />\n    </Svg>\n);\n\nconst StarHalf: React.FC<IconProps> = ({ size, color }) => (\n    <Svg height={size} viewBox=\"0 0 24 24\" width={size}>\n        <G>\n            <Rect fill=\"none\" height=\"24\" width=\"24\" x=\"0\" />\n        </G>\n        <G>\n            <G>\n                <G>\n                    <Path\n                        fill={color}\n                        d=\"M22,9.24l-7.19-0.62L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27L18.18,21l-1.63-7.03L22,9.24z M12,15.4V6.1 l1.71,4.04l4.38,0.38l-3.32,2.88l1,4.28L12,15.4z\"\n                    />\n                </G>\n            </G>\n        </G>\n    </Svg>\n);\n\nconst styles = StyleSheet.create({\n    starRating: {\n        flexDirection: \"row\",\n        alignSelf: \"flex-start\",\n    },\n    star: {\n        marginHorizontal: 5,\n    },\n});\n\nexport default StarRating;\n"]},"metadata":{},"sourceType":"module"}